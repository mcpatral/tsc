parameters:
  - name: ddlExecutorPath
    displayName: 'DDL executor path'
    type: string

  - name: verticaArguments
    displayName: 'Vertica client arguments'
    type: string

  - name: workingDirectory
    displayName: 'Working directory'
    type: string

  - name: condition
    displayName: 'Run conditions for task'
    type: string
    default: ""

steps:
  - task: Bash@3
    ${{ if ne(parameters.condition, '') }}:
      condition: ${{ parameters.condition }}
    displayName: 'Database scripts execution'
    inputs:
      targetType: 'inline'
      script: |
          chmod +x ${{ parameters.ddlExecutorPath }}
          ${{ parameters.ddlExecutorPath }} ${{ parameters.verticaArguments }}
      workingDirectory: ${{ parameters.workingDirectory }}